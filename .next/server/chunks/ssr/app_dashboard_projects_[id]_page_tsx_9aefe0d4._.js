module.exports=[39049,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(78560),e=a.i(50944),f=a.i(38246),g=a.i(70106);let h=(0,g.default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var i=a.i(24669);let j=(0,g.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var k=a.i(60246),l=a.i(90669),m=a.i(44494),n=a.i(73328);let o=(0,g.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),p=(0,g.default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),q=(0,g.default)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),r=(0,g.default)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);function s(){let a=(0,e.useParams)(),g=(0,e.useRouter)(),s=a.id,[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)("overview");(0,c.useEffect)(()=>{s&&H()},[s]);let H=async()=>{try{let[a,b,c,e]=await Promise.all([d.supabase.from("projects").select("*").eq("id",s).single(),d.supabase.from("keywords").select("*").eq("project_id",s).order("created_at",{ascending:!1}),d.supabase.from("competitors").select("*").eq("project_id",s).order("created_at",{ascending:!1}),d.supabase.from("serp_changes").select("*").eq("project_id",s).order("detected_at",{ascending:!1}).limit(20)]);if(a.error||!a.data)return void g.push("/dashboard");w(a.data),y(b.data||[]),A(c.data||[]),C(e.data||[])}catch(a){g.push("/dashboard")}finally{E(!1)}};if(D)return(0,b.jsx)("div",{className:"min-h-screen mesh-bg flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full border-4 border-sapphire-light border-t-sapphire-mid animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-sapphire-light font-lato",children:"Loading project..."})]})});if(!v)return null;let I=B.filter(a=>"rank_up"===a.change_type).length,J=B.filter(a=>"rank_down"===a.change_type).length;return(0,b.jsxs)("div",{className:"min-h-screen mesh-bg",children:[(0,b.jsx)("nav",{className:"bg-sapphire-dark border-b border-sapphire-mid/30 sticky top-0 z-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-sapphire-gradient flex items-center justify-center",children:(0,b.jsx)(n.BarChart2,{size:16,className:"text-white"})}),(0,b.jsx)("span",{className:"font-playfair text-lg font-bold text-white tracking-wide",children:"SEO Autopilot"})]}),(0,b.jsxs)(f.default,{href:"/dashboard",className:"flex items-center gap-2 text-sapphire-light hover:text-white transition-colors text-sm font-lato",children:[(0,b.jsx)(h,{size:15}),"All Projects"]})]})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[(0,b.jsx)("div",{className:"fade-in-up mb-8",children:(0,b.jsx)("div",{className:"glass-card rounded-2xl p-8",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-lato font-medium ${"active"===v.status?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-gray-100 text-gray-600"}`,children:v.status}),(0,b.jsxs)("span",{className:"text-xs text-sapphire-light font-lato flex items-center gap-1",children:[(0,b.jsx)(q,{size:12}),"Created ",new Date(v.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]}),(0,b.jsx)("h1",{className:"font-playfair text-3xl font-bold text-sapphire-dark",children:v.name}),(0,b.jsxs)("a",{href:v.website_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 mt-2 text-sapphire-mid hover:text-sapphire-dark transition-colors font-lato text-sm group",children:[(0,b.jsx)(m.Globe,{size:14}),v.website_url,(0,b.jsx)(r,{size:12,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(t,{icon:(0,b.jsx)(o,{size:18}),value:x.length,label:"Keywords"}),(0,b.jsx)(t,{icon:(0,b.jsx)(p,{size:18}),value:z.length,label:"Competitors"}),(0,b.jsx)(t,{icon:(0,b.jsx)(l.Activity,{size:18}),value:B.length,label:"Changes",highlight:B.length>0})]})]})})}),B.length>0&&(0,b.jsxs)("div",{className:"fade-in-up-delay-1 grid grid-cols-2 gap-4 mb-8",children:[(0,b.jsx)("div",{className:"glass-card rounded-2xl p-5 border-l-4 border-emerald-400",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 flex items-center justify-center",children:(0,b.jsx)(i.TrendingUp,{size:20,className:"text-emerald-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-playfair text-2xl font-bold text-emerald-700",children:I}),(0,b.jsx)("div",{className:"text-xs text-sapphire-light font-lato",children:"Rankings Improved"})]})]})}),(0,b.jsx)("div",{className:"glass-card rounded-2xl p-5 border-l-4 border-red-400",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-red-50 flex items-center justify-center",children:(0,b.jsx)(j,{size:20,className:"text-red-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-playfair text-2xl font-bold text-red-600",children:J}),(0,b.jsx)("div",{className:"text-xs text-sapphire-light font-lato",children:"Rankings Dropped"})]})]})})]}),(0,b.jsx)("div",{className:"fade-in-up-delay-2 mb-6",children:(0,b.jsx)("div",{className:"flex gap-1 bg-white/60 backdrop-blur p-1 rounded-xl w-fit border border-sapphire-light/20",children:["overview","keywords","competitors","changes"].map(a=>(0,b.jsxs)("button",{onClick:()=>G(a),className:`px-5 py-2 rounded-lg text-sm font-lato font-medium capitalize transition-all duration-200 ${F===a?"bg-sapphire-mid text-white shadow-sapphire-sm":"text-sapphire-light hover:text-sapphire-dark"}`,children:[a,"changes"===a&&B.length>0&&(0,b.jsx)("span",{className:"ml-2 bg-amber-100 text-amber-700 text-xs rounded-full px-1.5 py-0.5",children:B.length})]},a))})}),(0,b.jsxs)("div",{className:"fade-in-up-delay-3",children:["overview"===F&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,b.jsx)("h2",{className:"font-playfair text-xl font-bold text-sapphire-dark",children:"Keywords"}),(0,b.jsx)("button",{onClick:()=>G("keywords"),className:"text-xs text-sapphire-mid hover:text-sapphire-dark font-lato transition-colors",children:"View all →"})]}),0===x.length?(0,b.jsx)(u,{text:"No keywords tracked yet"}):(0,b.jsxs)("div",{className:"space-y-3",children:[x.slice(0,4).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-sapphire-lightest/60 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o,{size:14,className:"text-sapphire-light"}),(0,b.jsx)("span",{className:"text-sm font-lato text-sapphire-dark font-medium",children:a.keyword})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-sapphire-light bg-white px-2 py-0.5 rounded-lg border border-sapphire-light/20",children:a.device}),(0,b.jsx)("span",{className:"text-xs text-sapphire-light",children:a.location})]})]},a.id)),x.length>4&&(0,b.jsxs)("p",{className:"text-xs text-sapphire-light text-center font-lato pt-1",children:["+",x.length-4," more keywords"]})]})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,b.jsx)("h2",{className:"font-playfair text-xl font-bold text-sapphire-dark",children:"Competitors"}),(0,b.jsx)("button",{onClick:()=>G("competitors"),className:"text-xs text-sapphire-mid hover:text-sapphire-dark font-lato transition-colors",children:"View all →"})]}),0===z.length?(0,b.jsx)(u,{text:"No competitors tracked yet"}):(0,b.jsxs)("div",{className:"space-y-3",children:[z.slice(0,4).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-sapphire-lightest/60 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,b.jsx)(k.Users,{size:14,className:"text-sapphire-light flex-shrink-0"}),(0,b.jsx)("span",{className:"text-sm font-lato text-sapphire-dark font-medium truncate",children:a.name||a.url})]}),(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-sapphire-light hover:text-sapphire-mid transition-colors flex-shrink-0 ml-2",children:(0,b.jsx)(r,{size:13})})]},a.id)),z.length>4&&(0,b.jsxs)("p",{className:"text-xs text-sapphire-light text-center font-lato pt-1",children:["+",z.length-4," more competitors"]})]})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6 lg:col-span-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,b.jsx)("h2",{className:"font-playfair text-xl font-bold text-sapphire-dark",children:"Recent Rank Changes"}),(0,b.jsx)("button",{onClick:()=>G("changes"),className:"text-xs text-sapphire-mid hover:text-sapphire-dark font-lato transition-colors",children:"View all →"})]}),0===B.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(l.Activity,{size:32,className:"text-sapphire-light mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sapphire-light font-lato text-sm",children:"No changes detected yet. Automation will populate this."})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-sapphire-light/20",children:[(0,b.jsx)("th",{className:"text-left py-2 px-3 text-xs text-sapphire-light font-lato font-medium uppercase tracking-wider",children:"Keyword"}),(0,b.jsx)("th",{className:"text-center py-2 px-3 text-xs text-sapphire-light font-lato font-medium uppercase tracking-wider",children:"Before"}),(0,b.jsx)("th",{className:"text-center py-2 px-3 text-xs text-sapphire-light font-lato font-medium uppercase tracking-wider",children:"After"}),(0,b.jsx)("th",{className:"text-center py-2 px-3 text-xs text-sapphire-light font-lato font-medium uppercase tracking-wider",children:"Change"}),(0,b.jsx)("th",{className:"text-right py-2 px-3 text-xs text-sapphire-light font-lato font-medium uppercase tracking-wider",children:"Detected"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-sapphire-light/10",children:B.slice(0,8).map(a=>{let c=(a.position_before||0)-(a.position_after||0),d=c>0;return(0,b.jsxs)("tr",{className:"hover:bg-sapphire-lightest/40 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 px-3 font-lato text-sapphire-dark font-medium",children:a.keyword}),(0,b.jsxs)("td",{className:"py-3 px-3 text-center text-sapphire-light font-lato",children:["#",a.position_before]}),(0,b.jsxs)("td",{className:"py-3 px-3 text-center font-lato font-bold text-sapphire-dark",children:["#",a.position_after]}),(0,b.jsx)("td",{className:"py-3 px-3 text-center",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 text-xs font-medium font-lato px-2 py-0.5 rounded-full ${d?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-600"}`,children:[d?(0,b.jsx)(i.TrendingUp,{size:11}):(0,b.jsx)(j,{size:11}),Math.abs(c)]})}),(0,b.jsx)("td",{className:"py-3 px-3 text-right text-xs text-sapphire-light font-lato",children:new Date(a.detected_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},a.id)})})]})})]})]}),"keywords"===F&&(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6",children:[(0,b.jsxs)("h2",{className:"font-playfair text-xl font-bold text-sapphire-dark mb-5",children:["All Keywords (",x.length,")"]}),0===x.length?(0,b.jsx)(u,{text:"No keywords tracked yet"}):(0,b.jsx)("div",{className:"space-y-3",children:x.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-sapphire-lightest/60 rounded-xl hover:bg-sapphire-lightest transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 rounded-lg bg-sapphire-mid/10 flex items-center justify-center",children:(0,b.jsx)(o,{size:15,className:"text-sapphire-mid"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-lato font-semibold text-sapphire-dark",children:a.keyword}),(0,b.jsx)("p",{className:"text-xs text-sapphire-light font-lato",children:a.location})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs bg-white border border-sapphire-light/20 text-sapphire-mid px-2.5 py-1 rounded-lg font-lato capitalize",children:a.device}),(0,b.jsx)("span",{className:"text-xs text-sapphire-light font-lato",children:new Date(a.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},a.id))})]}),"competitors"===F&&(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6",children:[(0,b.jsxs)("h2",{className:"font-playfair text-xl font-bold text-sapphire-dark mb-5",children:["All Competitors (",z.length,")"]}),0===z.length?(0,b.jsx)(u,{text:"No competitors tracked yet"}):(0,b.jsx)("div",{className:"space-y-3",children:z.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-sapphire-lightest/60 rounded-xl hover:bg-sapphire-lightest transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 rounded-lg bg-sapphire-dark/10 flex items-center justify-center",children:(0,b.jsx)(p,{size:15,className:"text-sapphire-dark"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-lato font-semibold text-sapphire-dark",children:a.name||"Competitor"}),(0,b.jsx)("p",{className:"text-xs text-sapphire-light font-lato break-all",children:a.url})]})]}),(0,b.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-xs text-sapphire-mid hover:text-sapphire-dark font-lato transition-colors flex-shrink-0 ml-4",children:["Visit ",(0,b.jsx)(r,{size:12})]})]},a.id))})]}),"changes"===F&&(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6",children:[(0,b.jsxs)("h2",{className:"font-playfair text-xl font-bold text-sapphire-dark mb-5",children:["All Rank Changes (",B.length,")"]}),0===B.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(l.Activity,{size:40,className:"text-sapphire-light mx-auto mb-4"}),(0,b.jsx)("p",{className:"font-playfair text-lg text-sapphire-dark mb-2",children:"No changes yet"}),(0,b.jsx)("p",{className:"text-sm text-sapphire-light font-lato",children:"Your automation will detect and log ranking changes here each week."})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b-2 border-sapphire-light/20",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-xs text-sapphire-light font-lato font-semibold uppercase tracking-wider",children:"Keyword"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-xs text-sapphire-light font-lato font-semibold uppercase tracking-wider",children:"Before"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-xs text-sapphire-light font-lato font-semibold uppercase tracking-wider",children:"After"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-xs text-sapphire-light font-lato font-semibold uppercase tracking-wider",children:"Change"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 text-xs text-sapphire-light font-lato font-semibold uppercase tracking-wider",children:"Detected"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-sapphire-light/10",children:B.map(a=>{let c=(a.position_before||0)-(a.position_after||0),d=c>0;return(0,b.jsxs)("tr",{className:"hover:bg-sapphire-lightest/40 transition-colors",children:[(0,b.jsx)("td",{className:"py-3.5 px-4 font-lato text-sapphire-dark font-medium",children:a.keyword}),(0,b.jsxs)("td",{className:"py-3.5 px-4 text-center text-sapphire-light font-lato",children:["#",a.position_before]}),(0,b.jsxs)("td",{className:"py-3.5 px-4 text-center font-playfair font-bold text-sapphire-dark",children:["#",a.position_after]}),(0,b.jsx)("td",{className:"py-3.5 px-4 text-center",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 text-xs font-medium font-lato px-2.5 py-1 rounded-full ${d?"bg-emerald-50 text-emerald-700 border border-emerald-100":"bg-red-50 text-red-600 border border-red-100"}`,children:[d?(0,b.jsx)(i.TrendingUp,{size:11}):(0,b.jsx)(j,{size:11}),Math.abs(c)," positions"]})}),(0,b.jsx)("td",{className:"py-3.5 px-4 text-right text-xs text-sapphire-light font-lato",children:new Date(a.detected_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]},a.id)})})]})})]})]})]})]})}function t({icon:a,value:c,label:d,highlight:e=!1}){return(0,b.jsxs)("div",{className:"text-center bg-sapphire-lightest/40 rounded-xl px-5 py-3",children:[(0,b.jsx)("div",{className:`flex justify-center mb-1 ${e?"text-amber-500":"text-sapphire-light"}`,children:a}),(0,b.jsx)("div",{className:`font-playfair text-2xl font-bold ${e?"text-amber-600":"text-sapphire-dark"}`,children:c}),(0,b.jsx)("div",{className:"text-xs text-sapphire-light font-lato",children:d})]})}function u({text:a}){return(0,b.jsx)("div",{className:"text-center py-10",children:(0,b.jsx)("p",{className:"text-sapphire-light font-lato text-sm",children:a})})}a.s(["default",()=>s,"dynamic",0,"force-dynamic"],39049)}];

//# sourceMappingURL=app_dashboard_projects_%5Bid%5D_page_tsx_9aefe0d4._.js.map