module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35010,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(78560),e=a.i(50944),f=a.i(70106);let g=(0,f.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),h=(0,f.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),i=["Project Info","Keywords","Competitors","Frequency","Alerts","Review"];function j(){let a=(0,e.useRouter)(),[f,j]=(0,c.useState)(1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)({name:"",websiteUrl:"",keywords:[{keyword:"",location:"United States",device:"desktop"},{keyword:"",location:"United States",device:"desktop"},{keyword:"",location:"United States",device:"desktop"}],competitors:[{url:"",name:""},{url:"",name:""},{url:"",name:""}],frequency:"weekly",alertThreshold:3}),v=(a,b)=>u(c=>({...c,[a]:b})),w=(a,b,c)=>{let d=[...t.keywords];d[a]={...d[a],[b]:c},v("keywords",d)},x=(a,b,c)=>{let d=[...t.competitors];d[a]={...d[a],[b]:c},v("competitors",d)},y=async()=>{q(!0),s("");try{let{data:{user:b}}=await d.supabase.auth.getUser();if(!b)throw Error("Not authenticated");let{data:c,error:e}=await d.supabase.from("projects").insert({user_id:b.id,name:t.name,website_url:t.websiteUrl,status:"active"}).select().single();if(e)throw e;let{error:f}=await d.supabase.from("project_settings").insert({project_id:c.id,monitoring_frequency:t.frequency,alert_rank_drop_threshold:t.alertThreshold,alert_on_competitor_changes:!0,alert_on_new_content_gaps:!0});if(f)throw f;let g=t.keywords.filter(a=>a.keyword.trim());if(g.length>0){let{error:a}=await d.supabase.from("keywords").insert(g.map(a=>({project_id:c.id,keyword:a.keyword,location:a.location,device:a.device})));if(a)throw a}let h=t.competitors.filter(a=>a.url.trim());if(h.length>0){let{error:a}=await d.supabase.from("competitors").insert(h.map(a=>({project_id:c.id,url:a.url,name:a.name.trim()||new URL(a.url).hostname})));if(a)throw a}a.push("/dashboard")}catch(a){s(a.message??"Failed to create project"),q(!1)}};return(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-8 pt-8 pb-5 border-b border-gray-100",children:[(0,b.jsx)("div",{className:"flex items-center gap-1 mb-3",children:i.map((a,c)=>{let d=c+1;return(0,b.jsx)("div",{className:"flex items-center flex-1",children:(0,b.jsx)("div",{className:`w-full h-1.5 rounded-full transition-colors ${d<f?"bg-indigo-500":d===f?"bg-indigo-300":"bg-gray-200"}`})},d)})}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Step ",f," of 6 â€”"," ",(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:i[f-1]})]})]}),(0,b.jsxs)("div",{className:"px-8 py-8",children:[1===f&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Project"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"Name your project and add your website."})]}),(0,b.jsx)(m,{label:"Project Name",children:(0,b.jsx)(l,{value:t.name,onChange:a=>v("name",a.target.value),placeholder:"e.g. My SEO Campaign"})}),(0,b.jsx)(m,{label:"Website URL",children:(0,b.jsx)(l,{type:"url",value:t.websiteUrl,onChange:a=>v("websiteUrl",a.target.value),placeholder:"https://example.com"})})]}),2===f&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Keywords"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"Add up to 3 keywords to track in search results."})]}),t.keywords.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 border border-gray-200 rounded-xl space-y-3",children:[(0,b.jsxs)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:["Keyword ",c+1]}),(0,b.jsx)(l,{value:a.keyword,onChange:a=>w(c,"keyword",a.target.value),placeholder:"e.g. best seo tools"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Location"}),(0,b.jsx)(l,{value:a.location,onChange:a=>w(c,"location",a.target.value),placeholder:"United States"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Device"}),(0,b.jsxs)("select",{value:a.device,onChange:a=>w(c,"device",a.target.value),className:k,children:[(0,b.jsx)("option",{value:"desktop",children:"Desktop"}),(0,b.jsx)("option",{value:"mobile",children:"Mobile"}),(0,b.jsx)("option",{value:"tablet",children:"Tablet"})]})]})]})]},c))]}),3===f&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Competitors"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"Add 3â€“5 competitor URLs to monitor."})]}),t.competitors.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 border border-gray-200 rounded-xl space-y-3",children:[(0,b.jsxs)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:["Competitor ",c+1]}),(0,b.jsx)(l,{type:"url",value:a.url,onChange:a=>x(c,"url",a.target.value),placeholder:"https://competitor.com"}),(0,b.jsx)(l,{value:a.name,onChange:a=>x(c,"name",a.target.value),placeholder:"Name (optional)"})]},c))]}),4===f&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Monitoring Frequency"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"How often should automations run?"})]}),[{value:"weekly",label:"Weekly",desc:"Every Monday â€” recommended"},{value:"twice_weekly",label:"Twice Weekly",desc:"Monday & Thursday"},{value:"daily",label:"Daily",desc:"Every day â€” uses more API credits"}].map(a=>(0,b.jsxs)("label",{className:`flex items-center gap-4 p-4 border rounded-xl cursor-pointer transition-colors ${t.frequency===a.value?"border-indigo-400 bg-indigo-50":"border-gray-200 hover:bg-gray-50"}`,children:[(0,b.jsx)("input",{type:"radio",name:"freq",value:a.value,checked:t.frequency===a.value,onChange:()=>v("frequency",a.value),className:"accent-indigo-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-800",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.desc})]})]},a.value))]}),5===f&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Alert Settings"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"Choose when to receive notifications."})]}),(0,b.jsxs)("div",{className:"p-5 border border-gray-200 rounded-xl",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Alert if rank drops by ",(0,b.jsxs)("span",{className:"text-indigo-600 font-bold",children:[t.alertThreshold,"+"]})," positions"]}),(0,b.jsx)("input",{type:"range",min:1,max:10,value:t.alertThreshold,onChange:a=>v("alertThreshold",Number(a.target.value)),className:"w-full accent-indigo-600"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,b.jsx)("span",{children:"1 (very sensitive)"}),(0,b.jsx)("span",{children:"10 (major drops only)"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-xl cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"accent-indigo-600 w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Alert on competitor page changes"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-xl cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"accent-indigo-600 w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Alert when new content gaps are found"})]})]}),6===f&&(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Review & Create"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"Everything look correct?"})]}),(0,b.jsxs)(n,{title:"Project",children:[(0,b.jsx)(o,{label:"Name",value:t.name}),(0,b.jsx)(o,{label:"Website",value:t.websiteUrl}),(0,b.jsx)(o,{label:"Frequency",value:t.frequency.replace("_"," ")}),(0,b.jsx)(o,{label:"Alert at",value:`${t.alertThreshold}+ position drop`})]}),(0,b.jsx)(n,{title:`Keywords (${t.keywords.filter(a=>a.keyword).length})`,children:t.keywords.filter(a=>a.keyword).map((a,c)=>(0,b.jsx)(o,{label:`#${c+1}`,value:`${a.keyword} \xb7 ${a.location} \xb7 ${a.device}`},c))}),(0,b.jsx)(n,{title:`Competitors (${t.competitors.filter(a=>a.url).length})`,children:t.competitors.filter(a=>a.url).map((a,c)=>(0,b.jsx)(o,{label:a.name||`#${c+1}`,value:a.url},c))}),r&&(0,b.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:r})]}),(0,b.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-100",children:[(0,b.jsxs)("button",{onClick:()=>j(f-1),disabled:1===f,className:"flex items-center gap-2 px-5 py-2.5 border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-50 disabled:opacity-40 transition-colors",children:[(0,b.jsx)(g,{size:16})," Back"]}),f<6?(0,b.jsxs)("button",{onClick:()=>j(f+1),disabled:!(1===f?t.name.trim()&&t.websiteUrl.trim():2===f?t.keywords.some(a=>a.keyword.trim()):3!==f||t.competitors.some(a=>a.url.trim())),className:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700 disabled:opacity-40 transition-colors font-medium",children:["Next ",(0,b.jsx)(h,{size:16})]}):(0,b.jsx)("button",{onClick:y,disabled:p,className:"flex items-center gap-2 px-6 py-2.5 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:opacity-50 transition-colors font-medium",children:p?"Creating...":"ðŸš€ Create Project"})]})]})]})}let k="w-full px-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent";function l({...a}){return(0,b.jsx)("input",{...a,className:k})}function m({label:a,children:c}){return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:a}),c]})}function n({title:a,children:c}){return(0,b.jsxs)("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-50 px-4 py-2.5 border-b border-gray-100",children:(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:a})}),(0,b.jsx)("div",{className:"divide-y divide-gray-100",children:c})]})}function o({label:a,value:c}){return(0,b.jsxs)("div",{className:"flex px-4 py-2.5 text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500 w-32 shrink-0",children:a}),(0,b.jsx)("span",{className:"text-gray-900 font-medium truncate",children:c})]})}a.s(["default",()=>j],35010)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8000d71e._.js.map