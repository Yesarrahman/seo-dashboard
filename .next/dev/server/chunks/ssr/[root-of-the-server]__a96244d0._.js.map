{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hi/Downloads/SEO-AUTOMATION-Using%20N8N/dashboard/lib/supabase.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport const supabase = createBrowserClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n)\n\n// ─── Types ────────────────────────────────────────────────────\n\nexport interface Project {\n  id: string\n  user_id: string\n  name: string\n  website_url: string\n  status: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface Keyword {\n  id: string\n  project_id: string\n  keyword: string\n  location: string | null\n  device: string\n  created_at: string\n}\n\nexport interface Competitor {\n  id: string\n  project_id: string\n  url: string\n  name: string | null\n  created_at: string\n}\n\nexport interface ProjectSettings {\n  project_id: string\n  monitoring_frequency: string\n  alert_rank_drop_threshold: number\n  alert_on_competitor_changes: boolean\n  alert_on_new_content_gaps: boolean\n}\n\nexport interface SerpChange {\n  id: string\n  project_id: string\n  keyword_id: string\n  url: string\n  change_type: string\n  position_before: number | null\n  position_after: number | null\n  position_change: number | null\n  detected_at: string\n}\n\nexport interface ContentGap {\n  id: string\n  project_id: string\n  suggested_topic: string\n  priority_score: number | null\n  reasoning: string | null\n  status: string\n  created_at: string\n}\n\nexport interface Report {\n  id: string\n  project_id: string\n  report_type: string\n  pdf_url: string | null\n  generated_at: string\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,MAAM,WAAW,IAAA,iMAAmB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hi/Downloads/SEO-AUTOMATION-Using%20N8N/dashboard/app/dashboard/page.tsx"],"sourcesContent":["'use client'\n\nexport const dynamic = 'force-dynamic'\n\nimport { useEffect, useState } from 'react'\nimport { supabase } from '@/lib/supabase'\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport { TrendingUp, Users, Activity, Plus, LogOut, BarChart2, Globe } from 'lucide-react'\n\ninterface Project {\n  id: string\n  name: string\n  website_url: string\n  status: string\n  created_at: string\n}\n\nexport default function DashboardPage() {\n  const router = useRouter()\n  const [projects, setProjects] = useState<Project[]>([])\n  const [loading, setLoading] = useState(true)\n  const [userEmail, setUserEmail] = useState('')\n\n  useEffect(() => {\n    loadData()\n  }, [])\n\n  const loadData = async () => {\n    try {\n      const { data: { user } } = await supabase.auth.getUser()\n      if (user) setUserEmail(user.email || '')\n\n      const { data } = await supabase\n        .from('projects')\n        .select('*')\n        .order('created_at', { ascending: false })\n\n      setProjects(data || [])\n    } catch (error) {\n      console.error('Error:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut()\n    router.push('/login')\n  }\n\n  return (\n    <div className=\"min-h-screen mesh-bg\">\n      {/* Top Navigation */}\n      <nav className=\"bg-sapphire-dark border-b border-sapphire-mid/30 sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-8 h-8 rounded-lg bg-sapphire-gradient flex items-center justify-center\">\n              <BarChart2 size={16} className=\"text-white\" />\n            </div>\n            <span className=\"font-playfair text-lg font-bold text-white tracking-wide\">SEO Autopilot</span>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-sapphire-light text-sm hidden sm:block\">{userEmail}</span>\n            <button\n              onClick={handleSignOut}\n              className=\"flex items-center gap-2 text-sapphire-light hover:text-white transition-colors text-sm\"\n            >\n              <LogOut size={15} />\n              <span>Sign out</span>\n            </button>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-10\">\n        {/* Header */}\n        <div className=\"flex flex-col sm:flex-row sm:items-end justify-between gap-6 mb-10 fade-in-up\">\n          <div>\n            <p className=\"text-sapphire-mid text-sm font-lato uppercase tracking-widest mb-2\">Dashboard</p>\n            <h1 className=\"font-playfair text-4xl font-bold text-sapphire-dark leading-tight\">\n              Your Projects\n            </h1>\n            <p className=\"text-sapphire-light mt-2 font-lato\">\n              {projects.length} project{projects.length !== 1 ? 's' : ''} monitored\n            </p>\n          </div>\n          <Link\n            href=\"/dashboard/projects/new\"\n            className=\"inline-flex items-center gap-2 px-6 py-3 bg-sapphire-mid hover:bg-sapphire-dark text-white rounded-xl font-lato font-medium transition-all duration-200 shadow-sapphire-md hover:shadow-sapphire-lg hover:-translate-y-0.5 group\"\n          >\n            <Plus size={18} className=\"group-hover:rotate-90 transition-transform duration-200\" />\n            New Project\n          </Link>\n        </div>\n\n        {/* Loading State */}\n        {loading && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[1, 2, 3].map(i => (\n              <div key={i} className=\"glass-card rounded-2xl p-6 h-52 shimmer\" />\n            ))}\n          </div>\n        )}\n\n        {/* Empty State */}\n        {!loading && projects.length === 0 && (\n          <div className=\"fade-in-up text-center py-20\">\n            <div className=\"w-20 h-20 rounded-2xl bg-sapphire-gradient mx-auto mb-6 flex items-center justify-center\">\n              <Globe size={36} className=\"text-white\" />\n            </div>\n            <h2 className=\"font-playfair text-2xl font-bold text-sapphire-dark mb-3\">No projects yet</h2>\n            <p className=\"text-sapphire-light font-lato mb-8 max-w-sm mx-auto\">\n              Create your first project to start monitoring rankings, competitors, and content gaps.\n            </p>\n            <Link\n              href=\"/dashboard/projects/new\"\n              className=\"inline-flex items-center gap-2 px-8 py-3.5 bg-sapphire-mid hover:bg-sapphire-dark text-white rounded-xl font-lato font-medium transition-all duration-200 shadow-sapphire-md hover:-translate-y-0.5\"\n            >\n              <Plus size={18} />\n              Create First Project\n            </Link>\n          </div>\n        )}\n\n        {/* Projects Grid */}\n        {!loading && projects.length > 0 && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {projects.map((project, i) => (\n              <div key={project.id} className={`fade-in-up-delay-${Math.min(i + 1, 4)}`}>\n                <ProjectCard project={project} />\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction ProjectCard({ project }: { project: Project }) {\n  const [stats, setStats] = useState({ keywords: 0, competitors: 0, changes: 0 })\n\n  useEffect(() => {\n    loadStats()\n  }, [])\n\n  const loadStats = async () => {\n    try {\n      const [k, c, ch] = await Promise.all([\n        supabase.from('keywords').select('id', { count: 'exact' }).eq('project_id', project.id),\n        supabase.from('competitors').select('id', { count: 'exact' }).eq('project_id', project.id),\n        supabase.from('serp_changes').select('id', { count: 'exact' }).eq('project_id', project.id),\n      ])\n      setStats({ keywords: k.count || 0, competitors: c.count || 0, changes: ch.count || 0 })\n    } catch (e) { }\n  }\n\n  return (\n    <Link href={`/dashboard/projects/${project.id}`}>\n      <div className=\"glass-card rounded-2xl p-6 hover:shadow-sapphire-lg transition-all duration-300 hover:-translate-y-1 cursor-pointer group h-full\">\n        {/* Card Header */}\n        <div className=\"flex items-start justify-between mb-5\">\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"font-playfair text-xl font-bold text-sapphire-dark truncate group-hover:text-sapphire-mid transition-colors\">\n              {project.name}\n            </h3>\n            <div className=\"flex items-center gap-1.5 mt-1.5\">\n              <Globe size={12} className=\"text-sapphire-light flex-shrink-0\" />\n              <p className=\"text-sm text-sapphire-light font-lato truncate\">{project.website_url}</p>\n            </div>\n          </div>\n          <span className={`ml-3 px-3 py-1 rounded-full text-xs font-lato font-medium flex-shrink-0 ${project.status === 'active'\n            ? 'bg-emerald-50 text-emerald-700 border border-emerald-200'\n            : 'bg-gray-100 text-gray-600 border border-gray-200'\n            }`}>\n            {project.status}\n          </span>\n        </div>\n\n        {/* Divider */}\n        <div className=\"h-px bg-gradient-to-r from-sapphire-light/20 via-sapphire-light/40 to-transparent mb-5\" />\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-3\">\n          <StatBox value={stats.keywords} label=\"Keywords\" color=\"text-sapphire-mid\" icon={<TrendingUp size={14} />} />\n          <StatBox value={stats.competitors} label=\"Competitors\" color=\"text-sapphire-dark\" icon={<Users size={14} />} />\n          <StatBox value={stats.changes} label=\"Changes\" color={stats.changes > 0 ? \"text-amber-600\" : \"text-sapphire-light\"} icon={<Activity size={14} />} />\n        </div>\n\n        {/* Footer */}\n        <div className=\"mt-5 pt-4 border-t border-sapphire-light/20 flex items-center justify-between\">\n          <span className=\"text-xs text-sapphire-light font-lato\">\n            {new Date(project.created_at).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\n          </span>\n          <span className=\"text-xs font-lato text-sapphire-mid group-hover:text-sapphire-dark font-medium transition-colors flex items-center gap-1\">\n            View details →\n          </span>\n        </div>\n      </div>\n    </Link>\n  )\n}\n\nfunction StatBox({ value, label, color, icon }: { value: number; label: string; color: string; icon: React.ReactNode }) {\n  return (\n    <div className=\"bg-sapphire-lightest/60 rounded-xl p-3 text-center\">\n      <div className={`flex items-center justify-center gap-1 mb-1 ${color}`}>\n        {icon}\n      </div>\n      <div className={`text-2xl font-bold font-playfair ${color}`}>{value}</div>\n      <div className=\"text-xs text-sapphire-light font-lato mt-0.5\">{label}</div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;;AAEO,MAAM,UAAU;;;;;;AAgBR,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,WAAW;QACf,IAAI;YACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,2HAAQ,CAAC,IAAI,CAAC,OAAO;YACtD,IAAI,MAAM,aAAa,KAAK,KAAK,IAAI;YAErC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2HAAQ,CAC5B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,YAAY,QAAQ,EAAE;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,UAAU;QAC1B,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,gBAAgB;QACpB,MAAM,2HAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,iOAAS;wCAAC,MAAM;wCAAI,WAAU;;;;;;;;;;;8CAEjC,8OAAC;oCAAK,WAAU;8CAA2D;;;;;;;;;;;;sCAE7E,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAA+C;;;;;;8CAC/D,8OAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,8OAAC,oNAAM;4CAAC,MAAM;;;;;;sDACd,8OAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMd,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAqE;;;;;;kDAClF,8OAAC;wCAAG,WAAU;kDAAoE;;;;;;kDAGlF,8OAAC;wCAAE,WAAU;;4CACV,SAAS,MAAM;4CAAC;4CAAS,SAAS,MAAM,KAAK,IAAI,MAAM;4CAAG;;;;;;;;;;;;;0CAG/D,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,8OAAC,0MAAI;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAA4D;;;;;;;;;;;;;oBAMzF,yBACC,8OAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAA,kBACb,8OAAC;gCAAY,WAAU;+BAAb;;;;;;;;;;oBAMf,CAAC,WAAW,SAAS,MAAM,KAAK,mBAC/B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,6MAAK;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;0CAE7B,8OAAC;gCAAG,WAAU;0CAA2D;;;;;;0CACzE,8OAAC;gCAAE,WAAU;0CAAsD;;;;;;0CAGnE,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,8OAAC,0MAAI;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;oBAOvB,CAAC,WAAW,SAAS,MAAM,GAAG,mBAC7B,8OAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,SAAS,kBACtB,8OAAC;gCAAqB,WAAW,CAAC,iBAAiB,EAAE,KAAK,GAAG,CAAC,IAAI,GAAG,IAAI;0CACvE,cAAA,8OAAC;oCAAY,SAAS;;;;;;+BADd,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;AASlC;AAEA,SAAS,YAAY,EAAE,OAAO,EAAwB;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;QAAE,UAAU;QAAG,aAAa;QAAG,SAAS;IAAE;IAE7E,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,CAAC,GAAG,GAAG,GAAG,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACnC,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,MAAM;oBAAE,OAAO;gBAAQ,GAAG,EAAE,CAAC,cAAc,QAAQ,EAAE;gBACtF,2HAAQ,CAAC,IAAI,CAAC,eAAe,MAAM,CAAC,MAAM;oBAAE,OAAO;gBAAQ,GAAG,EAAE,CAAC,cAAc,QAAQ,EAAE;gBACzF,2HAAQ,CAAC,IAAI,CAAC,gBAAgB,MAAM,CAAC,MAAM;oBAAE,OAAO;gBAAQ,GAAG,EAAE,CAAC,cAAc,QAAQ,EAAE;aAC3F;YACD,SAAS;gBAAE,UAAU,EAAE,KAAK,IAAI;gBAAG,aAAa,EAAE,KAAK,IAAI;gBAAG,SAAS,GAAG,KAAK,IAAI;YAAE;QACvF,EAAE,OAAO,GAAG,CAAE;IAChB;IAEA,qBACE,8OAAC,uKAAI;QAAC,MAAM,CAAC,oBAAoB,EAAE,QAAQ,EAAE,EAAE;kBAC7C,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CACX,QAAQ,IAAI;;;;;;8CAEf,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,6MAAK;4CAAC,MAAM;4CAAI,WAAU;;;;;;sDAC3B,8OAAC;4CAAE,WAAU;sDAAkD,QAAQ,WAAW;;;;;;;;;;;;;;;;;;sCAGtF,8OAAC;4BAAK,WAAW,CAAC,wEAAwE,EAAE,QAAQ,MAAM,KAAK,WAC3G,6DACA,oDACA;sCACD,QAAQ,MAAM;;;;;;;;;;;;8BAKnB,8OAAC;oBAAI,WAAU;;;;;;8BAGf,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAQ,OAAO,MAAM,QAAQ;4BAAE,OAAM;4BAAW,OAAM;4BAAoB,oBAAM,8OAAC,gOAAU;gCAAC,MAAM;;;;;;;;;;;sCACnG,8OAAC;4BAAQ,OAAO,MAAM,WAAW;4BAAE,OAAM;4BAAc,OAAM;4BAAqB,oBAAM,8OAAC,6MAAK;gCAAC,MAAM;;;;;;;;;;;sCACrG,8OAAC;4BAAQ,OAAO,MAAM,OAAO;4BAAE,OAAM;4BAAU,OAAO,MAAM,OAAO,GAAG,IAAI,mBAAmB;4BAAuB,oBAAM,8OAAC,sNAAQ;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAI5I,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCACb,IAAI,KAAK,QAAQ,UAAU,EAAE,kBAAkB,CAAC,SAAS;gCAAE,OAAO;gCAAS,KAAK;gCAAW,MAAM;4BAAU;;;;;;sCAE9G,8OAAC;4BAAK,WAAU;sCAA2H;;;;;;;;;;;;;;;;;;;;;;;AAOrJ;AAEA,SAAS,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAA0E;IACpH,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAW,CAAC,4CAA4C,EAAE,OAAO;0BACnE;;;;;;0BAEH,8OAAC;gBAAI,WAAW,CAAC,iCAAiC,EAAE,OAAO;0BAAG;;;;;;0BAC9D,8OAAC;gBAAI,WAAU;0BAAgD;;;;;;;;;;;;AAGrE"}}]
}