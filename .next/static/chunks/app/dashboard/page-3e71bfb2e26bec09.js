(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{906:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5105).A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},3752:(e,s,t)=>{Promise.resolve().then(t.bind(t,6950))},3941:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});let r=(0,t(5417).createBrowserClient)("https://makiwfpoeomsoafwfekc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ha2l3ZnBvZW9tc29hZndmZWtjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5NzU0MDUsImV4cCI6MjA4NjU1MTQwNX0.kfC7KcjGbM6uRS3007dcjJMC8yf9-zHzlgXtjbGbRGE")},6950:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),a=t(2115),i=t(3941),n=t(2619),l=t.n(n),d=t(63),c=t(906),o=t(5105);let x=(0,o.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),m=(0,o.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h=(0,o.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),g=(0,o.A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function p(){let e=(0,d.useRouter)(),[s,t]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0),[h,g]=(0,a.useState)("");(0,a.useEffect)(()=>{p(),j()},[]);let p=async()=>{var e;let{data:{user:s}}=await i.N.auth.getUser();g(null!=(e=null==s?void 0:s.email)?e:"")},j=async()=>{try{let{data:e,error:s}=await i.N.from("projects").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){console.error("Error loading projects:",e)}finally{o(!1)}},y=async()=>{await i.N.auth.signOut(),e.push("/login"),e.refresh()};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-9 h-9 bg-indigo-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)(c.A,{size:20,className:"text-white"})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"SEO Automation"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500 hidden sm:block",children:h}),(0,r.jsxs)("button",{onClick:y,className:"flex items-center gap-1.5 text-sm text-gray-500 hover:text-gray-900 transition-colors",children:[(0,r.jsx)(x,{size:16}),"Sign out"]})]})]})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Projects"}),(0,r.jsxs)("p",{className:"text-gray-500 mt-1 text-sm",children:[s.length," project",1!==s.length?"s":""," total"]})]}),(0,r.jsxs)(l(),{href:"/dashboard/projects/new",className:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium text-sm",children:[(0,r.jsx)(m,{size:17}),"New Project"]})]}),n&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[(0,r.jsx)("div",{className:"h-5 bg-gray-200 rounded w-2/3 mb-2"}),(0,r.jsx)("div",{className:"h-4 bg-gray-100 rounded w-1/2 mb-6"}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(e=>(0,r.jsx)("div",{className:"h-14 bg-gray-100 rounded"},e))})]},e))}),!n&&0===s.length&&(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(c.A,{size:32,className:"text-indigo-600"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No projects yet"}),(0,r.jsx)("p",{className:"text-gray-500 mb-6 text-sm",children:"Create your first project to start monitoring rankings and competitors"}),(0,r.jsxs)(l(),{href:"/dashboard/projects/new",className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:[(0,r.jsx)(m,{size:18}),"Create First Project"]})]}),!n&&s.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,r.jsx)(u,{project:e},e.id))})]})]})}function u(e){let{project:s}=e,[t,n]=(0,a.useState)({keywords:0,competitors:0,changes:0,up:0,down:0});(0,a.useEffect)(()=>{d()},[]);let d=async()=>{let[e,t,r]=await Promise.all([i.N.from("keywords").select("id",{count:"exact",head:!0}).eq("project_id",s.id),i.N.from("competitors").select("id",{count:"exact",head:!0}).eq("project_id",s.id),i.N.from("serp_changes").select("id, change_type",{count:"exact"}).eq("project_id",s.id)]),a=r.data||[];n({keywords:e.count||0,competitors:t.count||0,changes:r.count||0,up:a.filter(e=>"rank_up"===e.change_type).length,down:a.filter(e=>"rank_down"===e.change_type).length})};return(0,r.jsx)(l(),{href:"/dashboard/projects/".concat(s.id),children:(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md hover:border-indigo-200 transition-all cursor-pointer group",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate group-hover:text-indigo-600 transition-colors",children:s.name}),(0,r.jsx)("p",{className:"text-sm text-gray-400 truncate mt-0.5",children:s.website_url})]}),(0,r.jsx)("span",{className:"ml-2 px-2.5 py-1 rounded-full text-xs font-medium shrink-0 ".concat("active"===s.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"),children:s.status})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3 pt-4 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:t.keywords}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-0.5",children:"Keywords"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.competitors}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-0.5",children:"Competitors"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:t.changes}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-0.5",children:"Changes"})]})]}),t.up+t.down>0&&(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-4 pt-3 border-t border-gray-100",children:[t.up>0&&(0,r.jsxs)("span",{className:"flex items-center gap-1 text-xs text-green-600 font-medium",children:[(0,r.jsx)(h,{size:13})," ",t.up," up"]}),t.down>0&&(0,r.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-500 font-medium",children:[(0,r.jsx)(g,{size:13})," ",t.down," down"]}),(0,r.jsx)("span",{className:"text-xs text-gray-400 ml-auto",children:"this week"})]})]})})}}},e=>{e.O(0,[716,619,441,255,358],()=>e(e.s=3752)),_N_E=e.O()}]);